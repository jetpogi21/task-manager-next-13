//Generated by GeneratePageFile
import { FormikCombobox } from "@/components/formik/FormikCombobox";
import { FormikFacetedControl } from "@/components/formik/FormikFacetedControl";
import { FormikInput } from "@/components/formik/FormikInput";
import { FormikSelect } from "@/components/formik/FormikSelect";
import {
  FormikSwitch,
  FormikSwitchProps,
} from "@/components/formik/FormikSwitch";
import { FormikTextArea } from "@/components/formik/FormikTextArea";
import { BasicModel } from "@/interfaces/GeneralInterfaces";
import { ClassValue } from "clsx";
import React, { RefObject } from "react";

interface ControlProps {
  name: string;
  label?: string;
  submitOnChange?: boolean;
  placeholder?: string;
  containerClassNames?: ClassValue[];
  disabled?: boolean;
  setHasUpdate?: () => void;
}

interface TextProps extends ControlProps {
  type: "Text";
  inputRef?: RefObject<any> | undefined;
  setFocusOnLoad?: boolean;
}

interface TextareaProps extends ControlProps {
  type: "Textarea";
}

interface WholeNumberProps extends ControlProps {
  type: "WholeNumber";
}

interface SwitchProps extends ControlProps {
  type: "Switch";
  size?: FormikSwitchProps["size"];
}

interface ComboBoxProps extends ControlProps {
  type: "ComboBox";
  options: BasicModel[];
  showLabel: boolean;
}

interface SelectProps extends ControlProps {
  type: "Select";
  options: BasicModel[];
  showLabel: boolean;
  allowBlank?: boolean;
}

interface FacetedControlProps extends ControlProps {
  type: "FacetedControl";
  options: BasicModel[];
  limit?: number;
}

type FormikControlProps =
  | FacetedControlProps
  | TextProps
  | SwitchProps
  | ComboBoxProps
  | SelectProps
  | WholeNumberProps
  | TextareaProps;

const FormikControl: React.FC<FormikControlProps> = (props) => {
  const {
    type,
    name,
    label = "",
    submitOnChange,
    containerClassNames,
    placeholder,
  } = props;
  switch (type) {
    case "Switch":
      return (
        <FormikSwitch
          name={name}
          label={label}
          submitOnChange={submitOnChange}
          containerClassNames={containerClassNames}
          size={props.size || undefined}
          setHasUpdate={props.setHasUpdate}
        />
      );
    case "FacetedControl":
      return (
        <FormikFacetedControl
          name={name}
          options={props.options}
          label={label}
          containerClassNames={containerClassNames}
          limit={props.limit || 4}
          setHasUpdate={props.setHasUpdate}
        />
      );
    case "ComboBox":
      return (
        <FormikCombobox
          name={name}
          items={props.options}
          label={label}
          containerClassNames={containerClassNames}
          showLabel={props.showLabel}
          setHasUpdate={props.setHasUpdate}
        />
      );
    case "Select":
      return (
        <FormikSelect
          name={name}
          options={props.options}
          label={label}
          containerClassNames={containerClassNames}
          showLabel={props.showLabel}
          allowBlank={props.allowBlank || false}
          setHasUpdate={props.setHasUpdate}
        />
      );
    case "Textarea":
      return (
        <FormikTextArea
          name={name}
          label={label}
          containerClassNames={containerClassNames}
          setHasUpdate={props.setHasUpdate}
        />
      );
    case "WholeNumber":
      return (
        <FormikInput
          name={name}
          label={label}
          isNumeric={true}
          wholeNumberOnly={true}
          containerClassNames={containerClassNames}
          setHasUpdate={props.setHasUpdate}
        />
      );
    default:
      return (
        <FormikInput
          name={name}
          label={label}
          submitOnChange={submitOnChange}
          placeholder={placeholder}
          containerClassNames={containerClassNames}
          inputRef={props.inputRef}
          setFocusOnLoad={props.setFocusOnLoad}
          disabled={props.disabled}
          setHasUpdate={props.setHasUpdate}
        />
      );
  }
};

export default FormikControl;
